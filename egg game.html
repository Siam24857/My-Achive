 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tap Tap Egg Game</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(-45deg, #ffcce6, #ccf2ff, #e6ffcc, #ffcccc);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            text-align: center;
            transition: all 0.5s;
            overflow: hidden;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            max-width: 90%;
            width: 500px;
        }

        .egg {
            width: 30vmin;
            height: 40vmin;
            max-width: 300px;
            max-height: 400px;
            min-width: 150px;
            min-height: 200px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 140"><ellipse cx="50" cy="70" rx="45" ry="65" fill="%23fffacd" stroke="%23d4a017" stroke-width="2"/><path d="M30,50 Q50,30 70,50 M25,80 Q50,60 75,80 M30,110 Q50,90 70,110" stroke="%23d4a017" stroke-width="1" fill="none"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2));
        }

        .egg.broken {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 140"><path d="M50,5 C70,5 85,30 85,70 C85,110 70,135 50,135 C30,135 15,110 15,70 C15,30 30,5 50,5 Z" fill="%23fffacd" stroke="%23d4a017" stroke-width="2"/><path d="M30,30 L70,30 M25,60 L75,60 M30,90 L70,90 M40,110 L60,110" stroke="%23d4a017" stroke-width="2" stroke-linecap="round"/><circle cx="50" cy="120" r="10" fill="%23ffcc00"/></svg>');
            animation: shake 0.5s ease-in-out;
        }

        .egg:active:not(.broken) {
            transform: scale(0.95) rotate(5deg);
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-10px) rotate(-5deg); }
            40% { transform: translateX(10px) rotate(5deg); }
            60% { transform: translateX(-10px) rotate(-5deg); }
            80% { transform: translateX(10px) rotate(5deg); }
        }

        .tap-counter {
            font-size: 24px;
            font-weight: bold;
            color: #e91e63;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .message {
            font-size: 28px;
            color: #ff5722;
            margin: 20px 0;
            display: none;
            animation: textPop 0.5s ease-out;
        }

        @keyframes textPop {
            0% { transform: scale(0.5); opacity: 0; }
            80% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }

        .gift {
            font-size: 50px;
            display: none;
            animation: bounce 0.5s infinite alternate;
        }

        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-20px); }
        }

        .progress-container {
            width: 100%;
            max-width: 300px;
            height: 20px;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #4caf50, #8bc34a);
            width: 0%;
            transition: width 0.3s;
            border-radius: 10px;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .control-btn {
            background-color: #ff9800;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            transition: all 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .control-btn:hover {
            background-color: #f57c00;
            transform: translateY(-2px);
        }

        .control-btn:active {
            transform: translateY(0);
        }

        .sound-btn::before {
            content: "üîä";
            margin-right: 5px;
        }

        .reset-btn::before {
            content: "üîÑ";
            margin-right: 5px;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0;
            z-index: 1000;
            pointer-events: none;
        }

        .sparkle {
            position: absolute;
            width: 5px;
            height: 5px;
            background-color: #fff;
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            filter: blur(1px);
        }

        @media (max-width: 600px) {
            .game-container {
                width: 90%;
            }
            
            .egg {
                width: 40vmin;
                height: 50vmin;
            }
            
            .message {
                font-size: 22px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="tap-counter">Taps: 0</div>
        <div class="progress-container">
            <div class="progress-bar"></div>
        </div>
        <div class="egg" id="egg"></div>
        <div class="message" id="message"></div>
        <div class="gift" id="gift"></div>
        <div class="controls">
            <button class="control-btn sound-btn" id="soundBtn">Sound On</button>
            <button class="control-btn reset-btn" id="resetBtn">Reset</button>
        </div>
    </div>

    <audio id="tapSound" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3" preload="auto"></audio>
    <audio id="breakSound" src="https://assets.mixkit.co/sfx/preview/mixkit-funny-squeaky-toy-259.mp3" preload="auto"></audio>

    <script>
        // Game variables
        const egg = document.getElementById('egg');
        const tapCounter = document.querySelector('.tap-counter');
        const message = document.getElementById('message');
        const gift = document.getElementById('gift');
        const progressBar = document.querySelector('.progress-bar');
        const soundBtn = document.getElementById('soundBtn');
        const resetBtn = document.getElementById('resetBtn');
        const tapSound = document.getElementById('tapSound');
        const breakSound = document.getElementById('breakSound');
        
        let taps = localStorage.getItem('eggTaps') ? parseInt(localStorage.getItem('eggTaps')) : 0;
        let soundOn = localStorage.getItem('eggSound') ? localStorage.getItem('eggSound') === 'true' : true;
        const tapsToBreak = 5000;
        const funnyMessages = [
            "You are a dunky! üòÇ",
        ];

        // Initialize game
        function initGame() {
            if (taps >= tapsToBreak) {
                egg.classList.add('broken');
                egg.style.cursor = 'default';
                showCompletion();
            } else {
                updateCounter();
                egg.classList.remove('broken');
                egg.style.cursor = 'pointer';
                message.style.display = 'none';
                gift.style.display = 'none';
                progressBar.style.width = `${(taps / tapsToBreak) * 100}%`;
            }
            
            updateSoundButton();
        }

        // Update tap counter display
        function updateCounter() {
            tapCounter.textContent = `Taps: ${taps.toLocaleString()}`;
            const progress = Math.min((taps / tapsToBreak) * 100, 100);
            progressBar.style.width = `${progress}%`;
            localStorage.setItem('eggTaps', taps.toString());
            
            // Add sparkles based on progress
            if (progress > 0 && progress < 100) {
                createSparkle();
            }
        }

        // Handle egg tap
        function handleEggTap() {
            if (egg.classList.contains('broken')) return;

            // Increment tap count
            taps++;
            updateCounter();

            // Play tap sound if enabled
            if (soundOn) {
                tapSound.currentTime = 0;
                tapSound.play();
            }

            // Add bounce animation
            egg.style.transform = 'scale(0.95) rotate(5deg)';
            setTimeout(() => {
                egg.style.transform = 'scale(1) rotate(0)';
            }, 200);

            // Change background animation speed based on taps
            document.body.style.animationDuration = `${15 - (taps/tapsToBreak)*10}s`;

            // Check if egg should break
            if (taps >= tapsToBreak) {
                breakEgg();
            }
        }

        // Break the egg
        function breakEgg() {
            egg.classList.add('broken');
            egg.style.cursor = 'default';
            
            // Play break sound if enabled
            if (soundOn) {
                breakSound.currentTime = 0;
                breakSound.play();
            }
            
            // Show completion elements
            setTimeout(() => {
                showCompletion();
            }, 500);
        }

        // Show completion message and gift
        function showCompletion() {
            // Show funny message
            const randomMessage = funnyMessages[Math.floor(Math.random() * funnyMessages.length)];
            message.textContent = randomMessage;
            message.style.display = 'block';
            
            // Show gift after delay
            setTimeout(() => {
                gift.textContent = 'üê£';
                gift.style.display = 'block';
                createConfetti();
                document.body.style.animation = 'none';
                document.body.style.background = 'linear-gradient(45deg, #fff8e1, #ffecb3)';
            }, 1000);
        }

        // Create confetti effect
        function createConfetti() {
            const colors = ['#f00', '#0f0', '#00f', '#ff0', '#f0f', '#0ff', '#f88', '#8f8', '#88f'];
            
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.top = '-10px';
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confetti.style.width = `${5 + Math.random() * 10}px`;
                confetti.style.height = `${5 + Math.random() * 10}px`;
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                
                document.body.appendChild(confetti);
                
                // Animate confetti
                setTimeout(() => {
                    confetti.style.opacity = '1';
                    confetti.style.top = `${Math.random() * 100}vh`;
                    confetti.style.left = `${Math.random() * 100}vw`;
                    confetti.style.transition = `all ${3 + Math.random() * 2}s ease-out`;
                    
                    // Remove confetti after animation
                    setTimeout(() => {
                        confetti.style.opacity = '0';
                        setTimeout(() => {
                            document.body.removeChild(confetti);
                        }, 1000);
                    }, 3000);
                }, i * 20);
            }
        }

        // Create sparkle effect
        function createSparkle() {
            if (Math.random() > 0.3) return;
            
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = `${10 + Math.random() * 80}%`;
            sparkle.style.top = `${10 + Math.random() * 80}%`;
            sparkle.style.width = `${2 + Math.random() * 5}px`;
            sparkle.style.height = sparkle.style.width;
            
            egg.appendChild(sparkle);
            
            // Animate sparkle
            setTimeout(() => {
                sparkle.style.opacity = '0.8';
                sparkle.style.transition = 'all 0.5s ease-out';
                sparkle.style.transform = 'scale(2)';
                
                // Remove sparkle after animation
                setTimeout(() => {
                    sparkle.style.opacity = '0';
                    setTimeout(() => {
                        if (sparkle.parentNode) {
                            sparkle.parentNode.removeChild(sparkle);
                        }
                    }, 500);
                }, 500);
            }, 0);
        }

        // Toggle sound
        function toggleSound() {
            soundOn = !soundOn;
            localStorage.setItem('eggSound', soundOn.toString());
            updateSoundButton();
        }

        // Update sound button text
        function updateSoundButton() {
            soundBtn.textContent = soundOn ? 'üîä Sound On' : 'üîá Sound Off';
        }

        // Reset game
        function resetGame() {
            taps = 0;
            localStorage.setItem('eggTaps', '0');
            initGame();
            document.body.style.animation = 'gradientBG 15s ease infinite';
        }

        // Event listeners
        egg.addEventListener('click', handleEggTap);
        soundBtn.addEventListener('click', toggleSound);
        resetBtn.addEventListener('click', resetGame);

        // Initialize game
        initGame();
    </script>
</body>
</html>  